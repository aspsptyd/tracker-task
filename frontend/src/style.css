*{box-sizing:border-box;font-family:Inter,Arial,Helvetica,sans-serif}
body{background:#0f172a;color:#e6eef8;margin:0;padding:18px}
.container{max-width:1100px;margin:0 auto}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.topbar h1{margin:0}
.actions button{background:transparent;border:1px solid rgba(255,255,255,0.08);color:inherit;padding:8px 12px;border-radius:8px}
.grid{display:grid;grid-template-columns:320px 1fr;gap:20px}
.panel{background:#071133;padding:16px;border-radius:12px;display:flex;flex-direction:column;gap:12px}
.panel h2{text-align:center;margin-top:0}
form{display:flex;flex-direction:column;gap:8px;align-items:center}
input,select{padding:10px;border:1px solid rgba(255,255,255,0.06);border-radius:10px;background:transparent;color:inherit;max-width:100%}
#title, #description{width:100%;min-width:200px;max-width:300px}
form button{padding:10px 16px;border:1px solid rgba(255,255,255,0.06);border-radius:10px;background:transparent;color:inherit;cursor:pointer}
button{background:#2563eb;color:white;border:none}
#taskForm button[type="submit"], #taskForm #cancelBtn{width:100%;min-width:200px;max-width:300px;padding:10px 16px;border:1px solid rgba(255,255,255,0.06);border-radius:10px;cursor:pointer}
#taskForm button[type="submit"]{background:#2563eb !important;color:white !important;border:none !important}
#taskForm #cancelBtn{background:#dc2626 !important;color:white !important;}
.timeline{background:linear-gradient(180deg,#071530 0%, #061026 100%);padding:16px;border-radius:12px}
.task-sections{display:flex;flex-direction:column;gap:20px}
.task-section{display:flex;flex-direction:column;gap:10px}
.task-section h3{margin:0 0 10px 0;font-size:16px;font-weight:600;color:#9fb0d6}
.tasks{display:flex;flex-direction:column;gap:10px}
.card{display:flex;justify-content:space-between;align-items:center;padding:14px;background:linear-gradient(90deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:10px}
.card-left{flex:1;min-width:0}
.card-left .title{font-weight:700;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}
.meta{font-size:13px;color:#9fb0d6}
.card .actions{display:flex;gap:8px;flex:0 0 auto}
.pill{padding:6px 8px;border-radius:999px;background:rgba(37,99,235,0.12);color:#cfe0ff;font-size:12px}
.dialog{padding:18px;border-radius:10px;background:#071133;color:inherit;border:none;width:720px}
.sessions{margin-top:12px;display:flex;flex-direction:column;gap:8px}
.session-row{display:flex;justify-content:space-between;gap:8px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)}
.session-row small{color:#8fa6d0}

/* Stats Grid */
.content-area {display: flex; flex-direction: column; gap: 20px;}
.stats-grid {display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;}
.stat-card {background: #071133; padding: 16px; border-radius: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;}
.stat-card h3 {margin: 0 0 8px 0; font-size: 14px; color: #9fb0d6; font-weight: 500;}
.stat-card .stat-value {font-size: 24px; font-weight: 700; color: #e6eef8;}
.stat-card .stat-sub {font-size: 12px; color: #64748b; margin-top: 4px;}

/* Modal form elements */
label{display:block;font-size:13px;color:#9fb0d6;margin-top:8px}
textarea{resize:vertical}
#taskEditForm input, #taskEditForm textarea, #sessionEditForm input{width:100%}
#taskEditForm button, #sessionEditForm button{padding:8px 12px;border-radius:8px}

/* Light theme overrides */
body.light{background:#f7fafc;color:#0f172a}
body.light .topbar{background:transparent}
body.light .panel{background:#ffffff;color:#0f172a}
body.light .timeline{background:#ffffff;color:#0f172a}
body.light .card{background:#f8fafc;color:#0f172a}
body.light input, body.light select, body.light textarea{background:white;color:inherit;border:1px solid #e2e8f0}
body.light .pill{background:rgba(37,99,235,0.08);color:#0f172a}
body.light .dialog{background:#ffffff;color:#0f172a}
body.light .actions button{border:1px solid rgba(15,23,42,0.06);color:inherit}
body.light .stat-card {background: #ffffff; color: #0f172a;}
body.light .stat-card h3 {color: #64748b;}
body.light .stat-card .stat-value {color: #0f172a;}

/* Theme toggle small styling */
#themeToggle{margin-left:8px}

#themeToggle svg{vertical-align:middle;margin-right:8px}
#themeToggle{display:inline-flex;align-items:center;gap:8px}

/* Refresh button loading state */
#refresh.loading{color:transparent;border-color:transparent;position:relative}
#refresh.loading::after{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-9px 0 0 -9px;border:2px solid rgba(255,255,255,0.18);border-top-color:rgba(255,255,255,0.95);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
body.light #refresh.loading::after{border:2px solid rgba(15,23,42,0.12);border-top-color:rgba(15,23,42,0.95)}

/* Live timer */
#liveTimerDisplay{min-width:96px;text-align:center}
#startStopBtn{padding:8px 12px;border-radius:8px}
.live-timer{margin-top:12px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:8px}
.live-timer .row{display:flex;gap:8px;align-items:center}
.live-timer select{flex:1;min-width:0;max-width:100%;padding:8px;border-radius:8px}
#startStopBtn{padding:8px 12px;border-radius:8px;flex:0 0 auto}
#liveTimerDisplay{min-width:96px;text-align:center;flex:0 0 96px}

/* ensure action buttons don't wrap and stay aligned */
.card .actions{display:flex;gap:8px;flex:0 0 auto;align-items:center}
#liveTimerDisplay{min-width:96px;text-align:center}
#startStopBtn{padding:8px 12px;border-radius:8px}

/* Per-card timer controls (additional) */
.card .timer{min-width:96px;text-align:center;flex:0 0 96px}
.card .controls{display:flex;gap:8px;align-items:center}
.card .controls button{padding:6px 10px;border-radius:8px}
.card.running{box-shadow:0 6px 18px rgba(37,99,235,0.25);border:2px solid #3b82f6;background:linear-gradient(90deg,rgba(37,99,235,0.25),rgba(59,130,246,0.15));}
.card.completed{opacity:0.7;background:linear-gradient(90deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));}
.card.completed .title{text-decoration:line-through;color:#94a3b8;}

/* Completion date styling */
.completed-date{color:#6ee7b7;font-weight:500;}
.completed-info{background:rgba(34,197,94,0.15);color:#6ee7b7;}

/* Light theme completion date styling */
body.light .completed-date{color:#059669;}
body.light .completed-info{background:rgba(34,197,94,0.1);color:#059669;}

/* History Task Section */
.history-section {margin-top: 20px;}
.history-tasks {display: flex; flex-direction: column; gap: 12px;}
.history-date-group {display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.06); margin-bottom: 8px;}
.history-date-group .date-label {font-weight: 600; font-size: 16px; color: #e6eef8;}
.history-date-group .progress {font-size: 14px; color: #9fb0d6; background: rgba(37,99,235,0.12); padding: 4px 8px; border-radius: 999px;}
.history-date-group .date-label.hari-ini {color: #60a5fa;}
.history-tasks .task-item {padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.03); margin-left: 10px;}
.history-tasks .task-item:last-child {border-bottom: none;}
.history-tasks .task-title {font-weight: 500; color: #cfe0ff; margin-bottom: 4px;}

/* Light theme history styling */
body.light .history-date-group {border-bottom: 1px solid rgba(15,23,42,0.06);}
body.light .history-tasks .task-item {border-bottom: 1px solid rgba(15,23,42,0.03);}
body.light .history-date-group .date-label {color: #0f172a;}
body.light .history-date-group .progress {background: rgba(37,99,235,0.08); color: #0f172a;}
body.light .history-date-group .date-label.hari-ini {color: #2563eb;}
body.light .history-tasks .task-title {color: #0f172a;}
